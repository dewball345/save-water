(this.webpackJsonpsave_water=this.webpackJsonpsave_water||[]).push([[5,7,10],{107:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(3);function s(){return Object(r.jsx)("div",{className:"card bg-primary text-white mb-2",children:Object(r.jsx)("div",{className:"card-body",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-3",children:Object(r.jsx)("h1",{className:"display-1 text-center",style:{fontWeight:"bolder"},children:"17"})}),Object(r.jsx)("div",{className:"col-9",children:Object(r.jsx)("h3",{children:"is the number of gallons an average american uses per shower. That's a lot!"})})]})})})}function c(){return Object(r.jsx)("div",{className:"card mb-2 bg-primary text-white",children:Object(r.jsx)("div",{className:"card-body text-left",children:Object(r.jsxs)("div",{className:"col-sm",children:[Object(r.jsx)("h1",{className:"display-4",style:{fontWeight:"bolder"},children:"What is Save Water?"}),Object(r.jsx)("h3",{children:'"Save Water" tracks your usage during showering to help you save water. This app also sets goals for you, to help lower your water usage.'})]})})})}function n(){return Object(r.jsx)("div",{className:"container d-flex align-self-center justify-content-center",style:{minHeight:"100vh"},children:Object(r.jsxs)("div",{className:"container-sm align-self-center",children:[Object(r.jsx)(s,{}),Object(r.jsx)(c,{}),Object(r.jsx)("div",{className:"card bg-primary text-white",children:Object(r.jsxs)("div",{className:"card-body text-center",children:[Object(r.jsx)("h4",{children:"This page is not completed yet, but just so you know:"}),Object(r.jsxs)("h1",{style:{fontWeight:"bolder"},children:["Save Water tracks your usage during showering",Object(r.jsx)("br",{}),"to help you save water."]}),Object(r.jsx)("h6",{children:"This beautiful font is called Leauge Spartan. You can download and use it at: https://www.theleagueofmoveabletype.com/league-spartan"})]})})]})})}},118:function(e,t){},119:function(e,t){},129:function(e,t){},130:function(e,t){},150:function(e,t){},152:function(e,t){},153:function(e,t){},154:function(e,t){},155:function(e,t){},163:function(e,t){},169:function(e,t){},172:function(e,t){},301:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var r=a(39),s=a.n(r),c=a(40),n=a(14),i=a(1),l=a(0),o=a(65),d=a(179),b=(a(17),a(3));function u(e){var t=e.bgColor,a=e.waterLevel,r=e.date,s=e.shower,c=e.title;return Object(b.jsx)("div",{className:"card m-2 p-3 text-light",style:{backgroundColor:t,minWidth:"150px"},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{style:{fontWeight:"bolder"},children:c}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{style:{fontWeight:"bold"},children:"Water Used: "})," ",a]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{style:{fontWeight:"bold"},children:"Date: "})," ",r]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{style:{fontWeight:"bold"},children:"Shower: "})," ",s]})]})})}function j(e){var t=e.parsed,a=e.title,r=e.deleter;return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"btn","data-toggle":"modal","data-target":"#"+t,style:{color:"#FFBBBB",fontWeight:"bolder"},"aria-label":"Close",children:Object(b.jsx)("span",{"aria-hidden":"true",children:"delete"})}),Object(b.jsx)("div",{className:"modal fade text-dark",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":t,"aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsxs)("h5",{className:"modal-title text-primary",id:"exampleModalLabel","aria-label":"Delete?",style:{fontWeight:"bolder"},children:['Delete "',a,'"?']}),Object(b.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close modal",children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(b.jsxs)("div",{className:"modal-body",children:['Are you sure you want to delete "',a,'"? This cannot be undone.']}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Cancel"}),Object(b.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:r,children:"Delete"})]})]})})})]})}function h(e){var t=e.title,a=e.rate,r=e.deleter,s=t.replace(/\W+/g,"");return Object(b.jsxs)("div",{className:"border-bottom m-2 mb-2 border-secondary",children:[Object(b.jsxs)("div",{className:"text-white row d-flex justify-content-around align-items-center",style:{},children:[Object(b.jsx)("div",{className:"col-xs",style:{},children:Object(b.jsx)("h6",{style:{fontWeight:"bolder",marginRight:"5px"},children:t})}),Object(b.jsx)("div",{className:"col-xs",children:Object(b.jsx)("h6",{children:a})})]}),Object(b.jsx)(j,{parsed:s,title:t,deleter:r})]})}function x(e){var t=e.date,a=e.title,r=e.gallons,s=e.spanbadge,c=e.deleter,n=new Date(parseInt(t)),i="date"+t.replace(/\W+/g,"");return Object(b.jsxs)("div",{className:"border-bottom mb-2 m-2 border-secondary",children:[Object(b.jsxs)("div",{className:"border-secondary text-white row d-flex justify-content-stretch align-items-center",children:[Object(b.jsx)("div",{className:"col-sm m-1 d-flex justify-content-center",style:{},children:Object(b.jsx)("h6",{style:{fontWeight:"bolder"},children:n.toLocaleString()})}),Object(b.jsx)("div",{className:"col-sm m-1 d-flex justify-content-center",children:Object(b.jsx)("h6",{style:{textAlign:"center"},children:a})}),Object(b.jsx)("div",{className:"col-sm m-1 p-1 d-flex justify-content-center",style:{},children:Object(b.jsxs)("h6",{style:{},children:[r," ",Object(b.jsx)("br",{})," ",s]})})]}),Object(b.jsx)(j,{parsed:i,title:n.toLocaleString(),deleter:c})]})}function m(){var e=Object(l.useContext)(o.DBContext);Object(l.useEffect)((function(){console.log("Entered")}));if(void 0===e.data||null===e.data)return Object(b.jsx)("div",{});function t(e){return Math.round(100*(e+Number.EPSILON))/100}return Object(b.jsx)("div",{className:"container d-flex justify-content-center",style:{minHeight:"100vh"},children:Object(b.jsxs)("div",{className:"container-lg d-flex flex-column align-self-center text-center justify-content-center",children:[Object(b.jsx)("h1",{className:"display-1 text-light",style:{fontWeight:"bolder"},children:"Save Water."}),Object(b.jsx)("h5",{className:"text-light",style:{marginTop:"-20px",fontWeight:"bold"},children:'Click "sync" in navbar to view changes from other devices'}),Object(b.jsx)("div",{style:{margin:"10px"}}),Object(b.jsx)("div",{className:"card bg-primary text-white",style:{marginLeft:"6vw",marginRight:"6vw"},children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("div",{className:"container-xs align-self-center",style:{fontWeight:"bolder"},children:Object(b.jsxs)("label",{style:{width:"40vw"},children:[Object(b.jsx)("h2",{style:{fontWeight:"bolder"},children:"Preferred Unit: "}),Object(b.jsx)(d.a,{className:"text-dark",defaultValue:e.multiplier,options:e.options,onChange:e.changeMultiplier})]})})})}),Object(b.jsx)("div",{style:{margin:"10px"}}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-sm",children:[Object(b.jsx)("div",{className:"card text-center bg-primary",style:{color:"white"},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{style:{fontWeight:"bolder"},children:"Summary"}),Object(b.jsx)("div",{style:{margin:"20px"}}),function(){if(void 0===e.data.records||null===e.data.records)return Object(b.jsx)("div",{children:'Looks like you haven\'t started a shower yet! If you want to see something here, click "track water usage" in the navbar'});var a=JSON.parse(JSON.stringify(e.data.records)),r=Object.keys(e.data.records),s=a[r[r.length-1]];s.date=r[r.length-1];var c=a[r[0]];c.date=r[0];var n,i,l=(s.water-c.water)/c.water,o="white";l<0?(l=100*t(l)+"% decrease from start",o="#bbffbb"):0===l?l="No change from start":(l=100*t(l)+"% increase from start",o="#ffbbbb");r.map((function(t){a=JSON.parse(JSON.stringify(e.data.records)),(void 0===n||a[t].water<n.water)&&((n=a[t]).date=t),(void 0===i||a[t].water>i.water)&&((i=a[t]).date=t)}));return[Object(b.jsx)("h5",{style:{color:o,fontWeight:600},children:l},"0"),Object(b.jsxs)("h5",{style:{color:s.pctGoal<0?"#bbffbb":"#ffbbbb",fontWeight:600},children:[s.pctGoal,"% of goal"]},"1"),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)(u,{bgColor:"#495ea3",waterLevel:t(c.water*e.multiplier.value)+e.multiplier.label,date:new Date(parseInt(c.date)).toLocaleString(),shower:c.name,title:"First Usage"})}),Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)(u,{bgColor:"#495ea3",waterLevel:t(s.water*e.multiplier.value)+e.multiplier.label,date:new Date(parseInt(s.date)).toLocaleString(),shower:s.name,title:"Latest Usage"})}),Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)(u,{bgColor:"#09794c",waterLevel:t(n.water*e.multiplier.value)+e.multiplier.label,date:new Date(parseInt(n.date)).toLocaleString(),shower:n.name,title:"Minimum Usage"})}),Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)(u,{bgColor:"#a30e7e",waterLevel:t(i.water*e.multiplier.value)+e.multiplier.label,date:new Date(parseInt(i.date)).toLocaleString(),shower:i.name,title:"Maximum Usage"})})]},"2")]}()]})}),Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsx)("div",{className:"card bg-primary",style:{color:"white"},children:Object(b.jsxs)("div",{className:"card-body text-center",children:[Object(b.jsx)("h3",{className:"p-2",style:{fontWeight:"bolder"},children:"List of showers"}),Object(b.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},children:void 0===e.data.showers||null===e.data.showers?Object(b.jsx)("div",{children:'Looks like you haven\'t set up any shower, yet! Click the "add a shower" button in the nav menu to do so.'}):Object.keys(e.data.showers).map((function(a){return Object(b.jsx)(h,{title:e.data.showers[a].name,rate:t(e.data.showers[a].rate*e.multiplier.value)+e.multiplier.label+"/sec",deleter:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteUserData("showers/"+e.data.showers[a].name);case 2:case"end":return t.stop()}}),t)})))},e.data.showers[a].name)}))})]})}),Object(b.jsx)("div",{style:{margin:"20px"}})]}),Object(b.jsxs)("div",{className:"col-sm",children:[Object(b.jsx)("div",{className:"card bg-primary",style:{color:"white"},children:Object(b.jsx)("div",{className:"card-body text-center",children:function(){if(void 0===e.data.records||null==e.data.records)return Object(b.jsx)("h4",{children:'Looks like you haven\'t started a shower. Click the "track water usage" icon to start!'});var a=0;return Object.keys(e.data.records).forEach((function(t){a+=e.data.records[t].water})),Object(b.jsxs)("h2",{className:"display-4 p-2",style:{fontWeight:"bolder"},children:["Total: ",t(a*e.multiplier.value)," ",e.multiplier.label]})}()})}),Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsx)("div",{className:"card bg-primary",style:{color:"white"},children:Object(b.jsx)("div",{className:"card-body text-center",children:null===e.data.goal||void 0===e.data.goal?Object(b.jsx)("h4",{children:"Looks like you haven't set up a goal. Go to the 'track water usage' tab to get your personal goal"}):Object(b.jsxs)("h2",{className:"display-4 p-2",style:{fontWeight:"bolder"},children:["Get less than ",t(e.data.goal*e.multiplier.value)," ",e.multiplier.label]})})}),Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsx)("div",{className:"card bg-primary",style:{color:"white"},children:Object(b.jsxs)("div",{className:"card-body text-center",children:[Object(b.jsx)("h3",{className:"p-2",style:{fontWeight:"bolder"},children:"Water usages"}),Object(b.jsx)("div",{style:{maxHeight:"600px",overflowY:"auto",overflowX:"hidden"},children:void 0===e.data.records||null===e.data.records?Object(b.jsx)("div",{className:"m-2",children:'Looks like you haven\'t started a shower yet! If you want to see something here, click "track water usage" in the navbar'}):Object.keys(e.data.records).map((function(a){var r;return r=void 0===e.data.records[a].pctGoal||NaN===e.data.records[a].pctGoal?Object(b.jsx)("span",{className:"badge badge-pill badge-warning",children:"NaN"}):e.data.records[a].pctGoal<0?Object(b.jsxs)("span",{className:"badge badge-pill badge-success",children:[e.data.records[a].pctGoal,"%"]}):0===e.data.records[a].pctGoal?Object(b.jsxs)("span",{className:"badge badge-pill badge-light",children:[e.data.records[a].pctGoal,"%"]}):Object(b.jsxs)("span",{className:"badge badge-pill badge-danger",children:["+",e.data.records[a].pctGoal,"%"]}),Object(b.jsx)(x,{date:a,title:e.data.records[a].name,gallons:t(e.data.records[a].water*e.multiplier.value)+e.multiplier.label,spanbadge:r,deleter:Object(c.a)(s.a.mark((function t(){var r,c,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteUserData("records/"+a);case 2:if(r=JSON.parse(JSON.stringify(e.data.records)),c=Object.keys(e.data.records),!((n=r[c[c.length-1]].water)-3e3<=0)){t.next=10;break}return t.next=8,e.writeUserData("goal",n);case 8:t.next=12;break;case 10:return t.next=12,e.writeUserData("goal",n-3e3);case 12:case"end":return t.stop()}}),t)})))},a)}))})]})})]})]})]})})}var p=a(46),O=a(74);function f(e){var t=e.seconds,a=e.changeStart,r=e.didStart,s=e.changeSeconds;return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"card bg-primary",style:{marginBottom:"10px",color:"white"},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("label",{htmlFor:"cardinput",children:Object(b.jsx)("h3",{style:{fontWeight:"bolder"},children:"Timer"})}),Object(b.jsxs)("h4",{className:"card-title",children:["Seconds:",Object(b.jsx)("input",{type:"number",step:"any",min:"0",id:"cardinput",className:"bg-secondary form-control border-0",value:Number.isNaN(parseFloat(t))?"":parseFloat(t),style:{fontSize:"20px",fontWeight:"bolder",color:"white"},onChange:function(e){s(parseFloat(e.target.value))}})]}),Object(b.jsx)("h5",{children:"Edit the time if you need to."}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-auto",children:Object(b.jsx)("button",{className:"btn btn-light",style:{marginBottom:"10px",color:"green"},onClick:function(){a(!r)},children:r?"Stop":"Start"})}),Object(b.jsx)("div",{className:"col-md-auto",children:Object(b.jsx)("button",{className:"btn btn-light",style:{color:"red",fontWeight:"800"},onClick:function(){s(0)},children:"Reset"})})]})]})})})}function v(e){var t=Object(l.useState)(0),a=Object(p.a)(t,2),r=a[0],n=a[1],i=Object(l.useState)(!1),d=Object(p.a)(i,2),u=d[0],j=d[1],h=Object(l.useState)(0),x=Object(p.a)(h,2),m=x[0],v=x[1],g=Object(l.useState)(),y=Object(p.a)(g,2),w=y[0],N=y[1],k=Object(l.useState)(null),S=Object(p.a)(k,2),W=S[0],C=S[1],D=Object(l.useContext)(o.DBContext);function U(){return(U=Object(c.a)(s.a.mark((function e(t){var a,c,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,console.log(m),console.log(w),console.log(r),a=parseFloat(m),c=parseFloat(r),n=Object.keys(D.data.showers),console.log(n),!n.includes(w)&&""!==m&&0!==m){e.next=14;break}throw i={},n.includes(w)&&(i.shower=!0),""!==m&&0!==m||(i.blank=!0),i;case 14:return console.log("RATE: "+a/D.multiplier.value/c),e.next=17,D.writeUserData("showers/"+w,{rate:a/D.multiplier.value/c,name:w});case 17:window.location="/",e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0),C(e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}return Object(l.useEffect)((function(){u&&setTimeout((function(){var e;n((e=r+.1,Math.round(100*(e+Number.EPSILON))/100))}),100)})),Object(b.jsx)("div",{className:"container d-flex",style:{minHeight:"100vh"},children:Object(b.jsxs)("div",{className:"container-sm align-self-center",children:[Object(b.jsx)("div",{className:"card bg-primary text-white",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h1",{className:"page-header",style:{fontWeight:"bolder"},children:"Create Shower"}),Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsx)("p",{children:"To keep track of how much water you use during showering, you need to give the rate at which the water flows in your shower."}),Object(b.jsx)("h4",{children:"Instructions:"}),Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"If you haven't already, set your preferred unit in the dashboard page."}),Object(b.jsx)("li",{children:"Start your shower"}),Object(b.jsx)("li",{children:"Click the button to start the timer."}),Object(b.jsx)("li",{children:"While the timer is running, fill a container(with your preferred unit) with water."}),Object(b.jsx)("li",{children:"When you have finished filling the container, stop the timer"}),Object(b.jsx)("li",{children:"Record the amount of water filled and the name of shower. We've got the time already"}),Object(b.jsx)("li",{children:"Sometimes, your shower may provide a rate for you. If this is the case, edit the time as needed. For example, if the rate given was 2 gallons/minute, set the time to 60 and capacity to 2"})]})]})}),Object(b.jsx)("div",{style:{margin:"30px"}}),Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)(f,{seconds:r,changeStart:j,didStart:u,changeSeconds:n})}),Object(b.jsxs)("div",{className:"col-sm",children:[function(){if(null!==W){var e="",t="";return W.shower&&(e+="Shower already exists \n"),W.blank&&(t+="No capacity specified"),Object(b.jsx)("div",{className:"card bg-danger text-white mb-3",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{style:{fontWeight:"bolder"},children:e}),Object(b.jsx)("h5",{style:{fontWeight:"bolder"},children:t})]})})}}(),Object(b.jsx)("div",{className:"card mb-3 bg-primary text-white",children:Object(b.jsxs)("h4",{className:"card-body",style:{fontWeight:"bolder"},children:["Preferred Unit: ",D.multiplier.label]})}),Object(b.jsx)("form",{className:"card bg-primary text-white",onSubmit:function(e){return U.apply(this,arguments)},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)(O.a,{title:"Enter capacity(".concat(D.multiplier.label,")"),onChange:function(e){v(e.target.value)},type:"number"}),Object(b.jsx)(O.a,{title:"Enter shower name",onChange:function(e){N(e.target.value)},type:"text"}),Object(b.jsx)("input",{type:"submit",className:"btn btn-light"})]})})]})]}),Object(b.jsx)("div",{style:{margin:"20px"}})]})})}var g=a(47);function y(){var e=Object(l.useState)(0),t=Object(p.a)(e,2),a=t[0],r=t[1],n=Object(l.useState)(!1),i=Object(p.a)(n,2),u=i[0],j=i[1],h=Object(l.useState)(""),x=Object(p.a)(h,2),m=x[0],O=x[1],v=Object(l.useState)(!0),g=Object(p.a)(v,2),y=g[0],w=g[1],N=Object(l.useState)(),k=Object(p.a)(N,2),S=k[0],W=k[1],C=Object(l.useState)(0),D=Object(p.a)(C,2),U=D[0],L=D[1],E=Object(l.useState)(),I=Object(p.a)(E,2),T=I[0],B=I[1],F=Object(l.useState)(""),J=Object(p.a)(F,2),A=J[0],G=J[1],M=Object(l.useContext)(o.DBContext);function P(e){return Math.round(100*(e+Number.EPSILON))/100}function H(){return(H=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t),a=M.data.showers[t.value],B(a.rate);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(c.a)(s.a.mark((function e(t){var a,r,c,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,0!==U){e.next=4;break}throw{code:"You didn't start your shower yet???"};case 4:if(""!==m){e.next=6;break}throw{code:"Specify a shower!"};case 6:if(a=Date.now().toString(),void 0!==M.data.goal){e.next=12;break}return e.next=10,M.writeUserData("records/"+a,{water:U,name:m.value,pctGoal:0});case 10:e.next=15;break;case 12:return r=Math.round((U-M.data.goal)/U*1e4)/100,e.next=15,M.writeUserData("records/"+a,{water:U,name:m.value,pctGoal:r});case 15:if(c=JSON.parse(JSON.stringify(M.data.records)),n=Object.keys(M.data.records),i=c[n[n.length-1]].water,console.log(i-3e3*M.multiplier.value),console.log("".concat(i," - (300 * ").concat(M.multiplier.value,")")),!(i-3e3<=0)){e.next=25;break}return e.next=23,M.writeUserData("goal",i);case 23:e.next=27;break;case 25:return e.next=27,M.writeUserData("goal",i-3e3);case 27:window.location="/",e.next=33;break;case 30:e.prev=30,e.t0=e.catch(1),G(e.t0.code);case 33:case"end":return e.stop()}}),e,null,[[1,30]])})))).apply(this,arguments)}return Object(l.useEffect)((function(){function e(){return(e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=M.data.showers,W(t),w(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t;return y&&function(){e.apply(this,arguments)}(),u&&(t=setTimeout((function(){r(P(a+.1)),L(P(T*a))}),100)),function(){clearTimeout(t)}}),[a,u,m,y,S,U,T,M.data.showers]),Object(b.jsx)("div",{className:"container d-flex",style:{minHeight:"100vh"},children:Object(b.jsxs)("div",{className:"container-sm align-items-center align-self-center",children:[Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsx)("div",{className:"card bg-primary",style:{color:"white"},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h1",{className:"page-header",style:{fontWeight:700},children:"Track your Water Usage"}),Object(b.jsx)("p",{children:"To keep track of how much water you use during showering, you need to give the rate at which the water flows in your shower."}),Object(b.jsx)("h4",{children:"Instructions:"}),Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{children:"Select the shower that you are using."}),Object(b.jsx)("li",{children:"Start your shower"}),Object(b.jsx)("li",{children:"Click the button to start the timer."}),Object(b.jsx)("li",{children:"Start your showering. Be sure to pause the timer when your water is off"}),Object(b.jsx)("li",{children:"When you are finished showering, stop the timer"})]})]})}),Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsx)("div",{className:"card bg-primary text-white",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsxs)("h3",{className:"text-center",style:{fontWeight:700},children:["Water Used: ",Number.isNaN(U)?"Select a shower to see water usage":P(U*M.multiplier.value)+M.multiplier.label]})}),Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)("h3",{className:"text-center",style:{fontWeight:700},children:void 0===M.data.goal?"Is this your first shower? Goals will be set after your first.":P(M.data.goal*M.multiplier.value)+M.multiplier.label})})]})})}),Object(b.jsx)("div",{style:{margin:"20px"}}),Object(b.jsxs)("div",{className:"row d-flex align-items-stretch",children:[Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)(f,{seconds:a,changeStart:j,didStart:u,changeSeconds:r})}),Object(b.jsxs)("div",{className:"col-sm",children:[function(){if(""!==A)return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"card bg-danger m-2",children:Object(b.jsx)("div",{className:"card-body text-white",children:Object(b.jsx)("h4",{style:{fontWeight:"bolder"},children:A})})}),Object(b.jsx)("div",{style:{margin:"20px"}})]})}(),Object(b.jsx)("form",{className:"card bg-primary",onSubmit:function(e){return R.apply(this,arguments)},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("h4",{style:{color:"white"},children:"Shower Name:"}),Object(b.jsx)(d.a,{style:{color:"black"},defaultValue:m,onChange:function(e){return H.apply(this,arguments)},options:void 0!==S?Object.keys(S).map((function(e){return{value:e,label:e}})):[]})]}),Object(b.jsx)("div",{style:{margin:"10px"}}),Object(b.jsx)("input",{type:"submit",className:"btn btn-light"})]})})]})]}),Object(b.jsx)("div",{style:{margin:"20px"}})]})})}var w=a(107),N=a(106);function k(){var e=Object(l.useContext)(g.FBAuthContext),t=Object(l.useContext)(o.DBContext);return Object(b.jsxs)(n.a,{children:[Object(b.jsx)(i.a,{to:"/dashboard"}),Object(b.jsxs)("nav",{className:"navbar fixed-top navbar-dark navbar-expand-lg bg-primary",children:[Object(b.jsxs)(n.b,{to:"/dashboard",className:"navbar-brand",children:[Object(b.jsxs)("span",{style:{fontWeight:700},children:[e.currentUser.email,"'s"]})," Dashboard"]}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:Object(b.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(n.b,{className:"nav-link",to:"/createbath",children:" Track water usage"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(n.b,{className:"nav-link",to:"/createshower",children:" Add a shower "})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(n.b,{className:"nav-link",to:"/info",children:" Site info "})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("button",{className:"btn nav-link",onClick:function(){t.syncData()},children:"Sync Data"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("button",{className:"btn nav-link",onClick:Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.localStorage.clear(),t.next=3,N.a();case 3:e.logout();case 4:case"end":return t.stop()}}),t)}))),children:"Logout"})})]})})]}),Object(b.jsx)(i.b,{path:"/createshower",component:v}),Object(b.jsx)(i.b,{path:"/createbath",component:y}),Object(b.jsx)(i.b,{path:"/dashboard",component:m}),Object(b.jsx)(i.b,{path:"/info",component:w.a})]})}},45:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c}));var r=a(73);r.a.apps.length?r.a.app():r.a.initializeApp({apiKey:"AIzaSyB0ZO6WoEwsvrmVBhT0yi3cHXubeOxcX1s",authDomain:"save-water-8124e.firebaseapp.com",projectId:"save-water-8124e",storageBucket:"save-water-8124e.appspot.com",messagingSenderId:"49478931776",appId:"1:49478931776:web:1b0b46e2d7b3c6f1b3d6a5"});var s=r.a.auth(),c=r.a.database()},47:function(e,t,a){"use strict";a.r(t),a.d(t,"FBAuthContext",(function(){return d})),a.d(t,"default",(function(){return b}));var r=a(39),s=a.n(r),c=a(40),n=a(46),i=a(45),l=a(0),o=a(3),d=Object(l.createContext)();function b(e){var t=e.children,a=Object(l.useState)(),r=Object(n.a)(a,2),b=r[0],u=r[1],j=Object(l.useState)(!0),h=Object(n.a)(j,2),x=h[0],m=h[1];function p(){return(p=Object(c.a)(s.a.mark((function e(t,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.signInWithEmailAndPassword(t,a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.signOut();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(c.a)(s.a.mark((function e(t,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.createUserWithEmailAndPassword(t,a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)((function(){i.a.onAuthStateChanged((function(e){u(e),m(!1)}));return function(){u({}),m({})}}),[]);var v={currentUser:b,isloading:x,login:function(e,t){return p.apply(this,arguments)},logout:function(){return O.apply(this,arguments)},register:function(e,t){return f.apply(this,arguments)}};return Object(o.jsx)(d.Provider,{value:v,children:t})}},65:function(e,t,a){"use strict";a.r(t),a.d(t,"DBContext",(function(){return j})),a.d(t,"default",(function(){return h}));var r=a(39),s=a.n(r),c=a(40),n=a(46),i=a(45),l=a(0),o=a(47),d=a(112),b=a(106),u=a(3),j=Object(l.createContext)();function h(e){var t=e.children,a=Object(l.useContext)(o.FBAuthContext),r=Object(l.useState)(),h=Object(n.a)(r,2),x=h[0],m=h[1],p=Object(l.useState)(),O=Object(n.a)(p,2),f=(O[0],O[1],Object(l.useState)({value:1,label:" mL"})),v=Object(n.a)(f,2),g=v[0],y=v[1];function w(e){return d.AES.encrypt(e,a.currentUser.uid).toString()}function N(e){var t=d.AES.decrypt(e,a.currentUser.uid);return JSON.parse(t.toString(d.enc.Utf8))}var k=Object(l.useState)({data:{},start:!1}),S=Object(n.a)(k,2),W=S[0],C=S[1],D=Object(l.useCallback)(function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.ref(x+"/"+t).get();case 2:return a=e.sent,e.abrupt("return",a.val());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]);function U(){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.b("local-user-data");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:C({data:{},start:!1}),I();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("/");case 3:t=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("failure. if it is just a logout function, don't worry"),console.log(e.t0),e.abrupt("return");case 11:if(void 0===a.currentUser){e.next=20;break}if(null===t){e.next=18;break}return e.next=15,b.d("local-user-data",w(JSON.stringify(t)));case 15:C({data:t,start:!0}),e.next=20;break;case 18:return e.next=20,b.d("local-user-data",w(JSON.stringify({})));case 20:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function r(){return(r=Object(c.a)(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.c("local-user-data");case 2:if(r=t.sent,W.start){t.next=11;break}if(console.log("entered"),null!==r&&void 0!==r){t.next=10;break}return t.next=8,e();case 8:t.next=11;break;case 10:void 0!==a.currentUser&&(r=N(r),C({data:r,start:!0}));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}function T(){return(T=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split("/"),r="delete map",a.forEach((function(e){r+='["'+e+'"]'})),new Function("map",r)(W.data),C({data:W.data,start:W.start}),e.next=8,b.d("local-user-data",w(JSON.stringify(W.data)));case 8:return e.next=10,i.b.ref(x+"/"+t).remove();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(c.a)(s.a.mark((function e(t,a){var r,c,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.split("/")).length>1?(c=r[r.length-1],r.slice(0,-1).forEach((function(e){void 0===n||null===n?(void 0===W.data[e]&&(W.data[e]={}),n=W.data[e]):void 0===n[e]?(n[e]={},n=n[e]):n=n[e]})),n[c]=a):W.data[r[0]]=a,C({data:W.data,start:W.start}),e.next=5,b.d("local-user-data",w(JSON.stringify(W.data)));case 5:return e.next=7,i.b.ref(x+"/"+t).set(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)(I,[W.start,D]),void 0!==a.currentUser&&null!==a.currentUser&&void 0===x&&m(a.currentUser.uid);var F={writeUserData:function(e,t){return B.apply(this,arguments)},syncData:function(){return E.apply(this,arguments)},clear:U,deleteUserData:function(e){return T.apply(this,arguments)},encrypt:w,changeMultiplier:y,multiplier:g,options:[{value:.001,label:" L"},{value:264e-6,label:" g"},{value:1,label:" mL"}],data:W.data};return Object(u.jsx)(j.Provider,{value:F,children:t})}},74:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(64),s=a(51),c=a(3);function n(e){var t=e.title,a=e.onChange,n=e.type,i=Object(s.a)(e,["title","onChange","type"]);return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:t,children:t+":"}),Object(c.jsx)("input",Object(r.a)({type:n,className:"form-control",id:t,"aria-describedby":t,placeholder:t+" here",onChange:a},i))]})}}}]);
//# sourceMappingURL=5.00643548.chunk.js.map