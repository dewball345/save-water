{"version":3,"sources":["providers/firebase.js","providers/firebaseauthprovider.js"],"names":["firebase","apps","length","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","database","FBAuthContext","createContext","FirebaseAuthProvider","children","useState","currentUser","setCurrentUser","isloading","setLoading","email","password","a","signInWithEmailAndPassword","res","signOut","createUserWithEmailAndPassword","useEffect","onAuthStateChanged","user","value","login","logout","register","Provider"],"mappings":"0GAAA,gFAaIA,IAASC,KAAKC,OAGdF,IAASG,MAFTH,IAASI,cAVQ,CACjBC,OAAQC,0CACRC,WAAYD,mCACZE,UAAWF,mBACXG,cAAeH,+BACfI,kBAAmBJ,cACnBK,MAAOL,6CASJ,IAAMM,EAAOZ,IAASY,OAChBC,EAAKb,IAASc,Y,wLChBdC,EAAgBC,0BAGd,SAASC,EAAT,GAA0C,IAAXC,EAAU,EAAVA,SAAU,EACdC,qBADc,mBAC7CC,EAD6C,KAChCC,EADgC,OAEpBF,oBAAS,GAFW,mBAE7CG,EAF6C,KAElCC,EAFkC,iDAIpD,WAAqBC,EAAOC,GAA5B,eAAAC,EAAA,sEACoBd,IAAKe,2BAA2BH,EAAOC,GAD3D,cACQG,EADR,yBAEWA,GAFX,4CAJoD,kEASpD,4BAAAF,EAAA,sEACoBd,IAAKiB,UADzB,cACQD,EADR,yBAEWA,GAFX,4CAToD,kEAcpD,WAAwBJ,EAAOC,GAA/B,eAAAC,EAAA,sEACoBd,IAAKkB,+BAA+BN,EAAOC,GAD/D,cACQG,EADR,yBAGWA,GAHX,4CAdoD,sBAoBpDG,qBAAU,WAEcnB,IAAKoB,oBAAmB,SAACC,GAIzCZ,EAAeY,GACfV,GAAW,MAEf,OAAO,WACHF,EAAe,IACfE,EAAW,OAEhB,IAEH,IAAMW,EAAQ,CACVd,cACAE,YACAa,MAtCgD,8CAuChDC,OAvCgD,2CAwChDC,SAxCgD,+CA2CpD,OACI,cAACtB,EAAcuB,SAAf,CAAwBJ,MAAOA,EAA/B,SACKhB","file":"static/js/10.b67d2dbb.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\n\r\n//STOP undo here: 4/4/2021\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_apiKey,\r\n    authDomain: process.env.REACT_APP_authDomain,\r\n    projectId: process.env.REACT_APP_projectId,\r\n    storageBucket: process.env.REACT_APP_storageBucket,\r\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n    appId: process.env.REACT_APP_appId\r\n};\r\n\r\nif(!firebase.apps.length){\r\n    firebase.initializeApp(firebaseConfig);\r\n} else {\r\n    firebase.app();\r\n}\r\n\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.database();\r\n\r\n","import {auth} from './firebase.js';\r\nimport {useState, useEffect, createContext} from 'react';\r\n\r\n\r\nexport const FBAuthContext = createContext();\r\n\r\n//UNDOUNDO\r\nexport default function FirebaseAuthProvider({children}){\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [isloading, setLoading] = useState(true);\r\n\r\n    async function login(email, password){\r\n        let res = await auth.signInWithEmailAndPassword(email, password);\r\n        return res;\r\n    }\r\n\r\n    async function logout(){\r\n        let res = await auth.signOut()\r\n        return res;\r\n    }\r\n\r\n    async function register(email, password){\r\n        let res = await auth.createUserWithEmailAndPassword(email, password)\r\n        \r\n        return res;\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        const unsubscribe = auth.onAuthStateChanged((user) => {\r\n            // console.log(\"executed here\")\r\n            // console.log(\"CURRENT USER IN AUTH\")\r\n            // console.log(user)\r\n            setCurrentUser(user);\r\n            setLoading(false)\r\n        })\r\n        return () => {\r\n            setCurrentUser({});\r\n            setLoading({})\r\n        };\r\n    }, []);\r\n\r\n    const value = {\r\n        currentUser,\r\n        isloading,\r\n        login,\r\n        logout,\r\n        register\r\n    }\r\n\r\n    return (\r\n        <FBAuthContext.Provider value={value}>\r\n            {children}\r\n        </FBAuthContext.Provider>\r\n    )\r\n}"],"sourceRoot":""}