{"version":3,"sources":["assets/favicon-32x32.png","pages/info.js","pages/dashboard.js","widgets/Stopwatch.js","pages/createshower.js","pages/createbath.js","pages/main.js","providers/firebase.js","providers/firebaseauthprovider.js","providers/firebasedbprovider.js","widgets/textbox.js"],"names":["WaterUsageWidget","className","style","fontWeight","IntroWidget","Info","minHeight","MinMaxAverageCard","bgColor","waterLevel","date","shower","title","backgroundColor","minWidth","DeleteModal","parsed","deleter","data-toggle","data-target","color","aria-label","aria-hidden","id","tabIndex","role","aria-labelledby","type","data-dismiss","onClick","ShowerTableEntry","rate","replace","marginRight","RecordTableEntry","gallons","spanbadge","mdate","Date","parseInt","toLocaleString","textAlign","Dashboard","db","useContext","DBContext","useEffect","console","log","undefined","data","round","num","Math","Number","EPSILON","marginTop","margin","marginLeft","width","defaultValue","multiplier","options","onChange","changeMultiplier","records","JSON","parse","stringify","keys","Object","latest","length","first","min","max","pctChange","water","map","key","pctGoal","value","label","name","maxHeight","overflowY","overflowX","showers","val","a","deleteUserData","total","forEach","goal","NaN","writeUserData","Stopwatch","seconds","changeStart","didStart","changeSeconds","marginBottom","htmlFor","step","isNaN","parseFloat","fontSize","e","target","CreateShower","props","useState","capacity","changeCapacity","changeName","error","changeError","event","preventDefault","amount","time","includes","errCode","blank","window","location","setTimeout","errmessage1","errmessage2","onSubmit","CreateBath","once","changeOnce","response","changeResponse","changeWater","changeRate","now","toString","code","tm","getData","clearTimeout","Main","context","FBAuthContext","to","currentUser","email","aria-controls","aria-expanded","syncData","localStorage","clear","i","logout","path","component","firebase","apps","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","database","createContext","FirebaseAuthProvider","children","setCurrentUser","isloading","setLoading","password","signInWithEmailAndPassword","res","signOut","createUserWithEmailAndPassword","onAuthStateChanged","user","login","register","Provider","FirebaseDBProvider","userId","changeUID","encrypt","jsonString","CryptoJS","uid","decrypt","encryptstring","bytes","Utf8","start","stateMap","changeStateMap","getUserData","useCallback","dir","ref","get","thingFunc","storageItems","secondPart","dirs","split","op","Function","operation","remove","last","slice","element","accessor","set","TextBox","aria-describedby","placeholder"],"mappings":"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","file":"static/js/5.00643548.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEPElEQVRYR62XX0xbZRjGn/dAN1umWcuf4DaXmGzTxHixS2OyC0ANSwRZTxu9mAlGemGBGKWbaKRQp2aDZAZksTZLnMmM0lOYUyRmwxuTXfhvRtnC0ESBOElh3YyzZXA4rzltT3cKB3qA08v2O9/ze5/vfZ/zlWDyE/5sOAjiowB99/fkZOv1+Ew1EcbCJ0IXTG5huIzMPHzq7JfOomLMgUhQ18+nUnxtfJxkWWZmpT3SEzpuZh+jNaYAwuGwjZ27/iBgp7ZJKpXExPg4ZFkGM7+2UQhTAKrosQ/O1Dvv236uuLg4V4gVEKYBfG2dHztK7If3PvQwrIQwDxAIRgC86HA4YCWEeYBXO8sgKN8A9KiVEKYB1INvbH+n3CbPj1oJURDALd14RAC9LctLR4aeLZ9obG8vt8k2UxAAjn7Y3XVirRFdEyAtTsIoM1copDw56C67mHHCPEShEV0VQC8OQrPkdp0CM9WO/L5l5ODeO1ZBGAIYiXsGpu0QSoZAtP+2fW63VRArAIzF2Y6iW5+D+QkAX0fdzloQsRWNmQegF2coLTGxrN8zoBMnuoCl2/VR7wOpQ7G5Gl7kqbuNuXUUYOMRTSYxcS0T28RcF+4JfaE1Zg7AnPj2+qiXUm5pzk8Q+gg4HxVdz5hqzCzEoiyHIt1dwTyAgranK9fEE34C+og5DkZV1Ft6VdtMnxN2hwP7lsd2Mom/rk8f6H79lW9zAOsVF4A+6MTXmxOLi4tXf/j+58c/eq/zlgpBHilxjoE6bdRWnnmmcq+U8CvLKt9ITjAzLv/043D4eMfTADE1fDq7j2y0Ww2Z9KgVbct0u852VZyNKs+GFAMtMdHVr88JX/rdwSdB5Nyxc9cnlfdX9hKodDYex9Tkn+odwhfpCUVyTZiZc8d5gGryxAcTflYMbCdhFMwVBLQMiK5+o5zQR7D/jWMHCDS6sLCgXShmFkrowTRAnu3gi1CSdeqoeaS5ZkDoBVMcrKQbTrM9X3z1nNBD+I4ET4LxsvYdMz1Hq815TpworrBSHRNLrxQU1+WE0QvopUBnpQxlCiCb+juDz6pNOAzgoN52j5RoBtCLVcQBpTUqlr2/WsOu9fbzBTouAfRYZg1fUQF+ATANxSmq3a6JM3iWgarllW9GXJVsCgTPEPB8FvJGXhTni2+pion35tkOoDUqujZUueZKUyB4moAXsg78e3cKNNvBs7JA1UOHXGP6M7dCPOvASoDcmYNmZYHXEDfOifX8KVnhgFtK+NPxWkBcDRlP7OYIgKf0DbsecUMHPNHEPyCah3KnJuqt/FVdJEo3TxO4UWs49bvar37bui1VNgXmy1D+a1BzYr3ihgBuKb6fyZYYdDsntQ0bBmcqipZseyRP6SW9iAoxUrtnQbuMWAKwkU0280xT4M0OgtCV3WOs4LV8M2JGzx5uayu5hxzvEoQdJCy99T+7r7FPrw9M0gAAAABJRU5ErkJggg==\"","import logo from '../assets/favicon-32x32.png';\r\n\r\nfunction WaterUsageWidget(){\r\n    return (\r\n        <div className=\"card bg-primary text-white mb-2\">\r\n            <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                        <h1 className=\"display-1 text-center\" style={{\r\n                            fontWeight: \"bolder\"\r\n                        }}>\r\n                            17\r\n                        </h1>\r\n                    </div>\r\n                    <div className=\"col-9\">\r\n                        <h3>\r\n                            is the number of gallons an average american uses per shower. That's a lot!\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nfunction IntroWidget(){\r\n    return (\r\n        <div className=\"card mb-2 bg-primary text-white\">\r\n            <div className=\"card-body text-left\">\r\n                <div className=\"col-sm\">\r\n                    <h1 className=\"display-4\" style={{\r\n                        fontWeight: \"bolder\"\r\n                    }}>\r\n                        What is Save Water?\r\n                    </h1>\r\n                    <h3>\r\n                        \"Save Water\" tracks your usage during showering to help you save water. \r\n                        This app also sets goals for you, to help lower your water usage.\r\n                    </h3>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function Info(){\r\n    return (\r\n    <div className=\"container d-flex align-self-center justify-content-center\" style={{\r\n        minHeight:\"100vh\"\r\n    }}>\r\n        <div className=\"container-sm align-self-center\">\r\n            <WaterUsageWidget />\r\n            <IntroWidget />\r\n            <div className=\"card bg-primary text-white\">\r\n                <div className=\"card-body text-center\">\r\n                    <h4>This page is not completed yet, but just so you know:</h4>\r\n                    <h1 style={{\r\n                        fontWeight:\"bolder\"\r\n                    }}>\r\n                        Save Water tracks your usage during showering<br />\r\n                        to help you save water.\r\n                    </h1>\r\n                    <h6>\r\n                        This beautiful font is called Leauge Spartan. \r\n                        You can download and use it at: https://www.theleagueofmoveabletype.com/league-spartan\r\n                    </h6> \r\n                    {/* <h6 className=\"text-left d-flex align-items-center flex-column\">\r\n                        This favicon was generated using the following graphics from Twitter Twemoji:\r\n                        <ul>\r\n                            <li>Graphics Title: 1f6bf.svg</li>\r\n                            <li>Graphics Author: Copyright 2020 Twitter, Inc and other contributors (https://github.com/twitter/twemoji)</li>\r\n                            <li>Graphics Source: https://github.com/twitter/twemoji/blob/master/assets/svg/1f6bf.svg</li>\r\n                            <li>Graphics License: CC-BY 4.0 (https://creativecommons.org/licenses/by/4.0/)</li>\r\n                        </ul>\r\n                    </h6>  */}\r\n                </div>        \r\n            </div>\r\n        </div>\r\n    </div>)\r\n}","import {useContext, useEffect, useState} from 'react';\r\nimport {DBContext} from '../providers/firebasedbprovider';\r\nimport Select from \"react-select\";\r\nimport '../scss/custom.scss';\r\n\r\n\r\n\r\n\r\nfunction MinMaxAverageCard({bgColor, waterLevel, date, shower, title}){\r\n    return(\r\n        <div className=\"card m-2 p-3 text-light\" style={{\r\n            backgroundColor: bgColor,\r\n            minWidth: \"150px\"\r\n        }}>\r\n            <div className=\"card-body\">\r\n                <h5 style={{\r\n                    fontWeight:\"bolder\"\r\n                }}>{title}</h5>\r\n\r\n                <p><span style={{\r\n                    fontWeight:\"bold\"\r\n                }}>Water Used: </span> {waterLevel}</p>\r\n\r\n                <p><span style={{\r\n                    fontWeight:\"bold\"\r\n                }}>Date: </span> {date}</p>\r\n\r\n                <p><span style={{\r\n                    fontWeight:\"bold\"\r\n                }}>Shower: </span> {shower}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction DeleteModal({parsed, title, deleter}){\r\n    // console.log(\"DELETE MODAL\")\r\n    // console.log(parsed)\r\n    // console.log(title)\r\n    // console.log(deleter)\r\n    // console.log(\"END\")\r\n    return (<div>\r\n        <button className=\"btn\" data-toggle=\"modal\" data-target={\"#\" + parsed} style={{\r\n            color: \"#FFBBBB\",\r\n            fontWeight: \"bolder\"\r\n        }} aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">delete</span>\r\n        </button>\r\n\r\n        \r\n        <div className=\"modal fade text-dark\" id={parsed} tabIndex=\"-1\" role=\"dialog\" aria-labelledby={parsed} aria-hidden=\"true\">\r\n            <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title text-primary\" id=\"exampleModalLabel\" aria-label=\"Delete?\" style={{\r\n                        fontWeight: \"bolder\"\r\n                    }}>Delete \"{title}\"?</h5>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close modal\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    Are you sure you want to delete \"{title}\"? This cannot be undone.\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n                    <button type=\"button\" className=\"btn btn-danger\"  data-dismiss=\"modal\" onClick={deleter}>Delete</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nfunction ShowerTableEntry({title, rate, deleter}){\r\n    let parsed = title.replace(/\\W+/g, \"\")\r\n    // console.log(parsed)\r\n    return (\r\n        <div className=\"border-bottom m-2 mb-2 border-secondary\">                        \r\n            <div className=\"text-white row d-flex justify-content-around align-items-center\" style={{\r\n                // backgroundColor: 'blue'\r\n            }}>\r\n                <div className=\"col-xs\" style={{\r\n                    // backgroundColor: 'blue'\r\n                }}>\r\n                    <h6 style={{\r\n                        fontWeight: \"bolder\",\r\n                        marginRight: \"5px\"\r\n                    }}>{title}</h6>\r\n                </div>\r\n                <div className=\"col-xs\">\r\n                    <h6>{rate}</h6>\r\n                </div>\r\n                {/* <div className=\"col-xs\">\r\n                    \r\n                </div> */}\r\n                {/* <div className=\"col-xs\">\r\n                    <button className = \"btn btn-light text-danger btn-small m-3\">\r\n                        Delete\r\n                    </button>\r\n                </div> */}\r\n            </div>\r\n            <DeleteModal parsed={parsed} title={title} deleter={deleter}/>\r\n            {/* <button className=\"btn\" data-toggle=\"modal\" data-target={\"#\" + parsed} style={{\r\n                color: \"#FFBBBB\",\r\n                fontWeight: \"bolder\"\r\n            }} aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">delete</span>\r\n            </button>\r\n\r\n            \r\n            <div className=\"modal fade text-dark\" id={parsed} tabIndex=\"-1\" role=\"dialog\" aria-labelledby={parsed} aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title text-primary\" id=\"exampleModalLabel\" aria-label=\"Delete?\" style={{\r\n                            fontWeight: \"bolder\"\r\n                        }}>Delete \"{title}\"?</h5>\r\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close modal\">\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        Are you sure you want to delete shower \"{title}\"? This cannot be undone\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n                        <button type=\"button\" className=\"btn btn-danger\"  data-dismiss=\"modal\" onClick={deleter}>Delete</button>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction RecordTableEntry({date, title, gallons, spanbadge, deleter}){\r\n    let mdate = new Date(parseInt(date))\r\n    let parsed = \"date\" + date.replace(/\\W+/g, \"\");\r\n    // console.log(\"RECORD TABLE ENTRY\")\r\n    // console.log(parsed)\r\n    // console.log(typeof date)\r\n    // console.log(mdate.toLocaleString())\r\n    // console.log(\"END\")\r\n    return (\r\n        <div className=\"border-bottom mb-2 m-2 border-secondary\">\r\n            <div className=\"border-secondary text-white row d-flex justify-content-stretch align-items-center\">\r\n\r\n                <div className=\"col-sm m-1 d-flex justify-content-center\" style={{\r\n                    // backgroundColor: 'blue'\r\n                }}>\r\n                    <h6 style={{\r\n                        fontWeight: \"bolder\",\r\n                    }}>{mdate.toLocaleString()}</h6>\r\n                </div>\r\n\r\n                <div className=\"col-sm m-1 d-flex justify-content-center\">\r\n                    <h6 style={{\r\n                        textAlign: \"center\",\r\n                        \r\n                    }}>{title}</h6>\r\n                </div>\r\n\r\n                <div className=\"col-sm m-1 p-1 d-flex justify-content-center\" style={{\r\n                // backgroundColor: \"green\"\r\n                }}>\r\n                    <h6 style={{\r\n                        // backgroundColor: \"blue\",\r\n                        // textAlign: \"end\"\r\n                    }}>{gallons} <br /> {spanbadge}</h6>\r\n                    {/* <span className=\"badge badge-pill badge-danger\">{pct}</span></h6> */}\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <DeleteModal parsed={parsed} title={mdate.toLocaleString()} deleter={deleter}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport function Dashboard(){\r\n    // const [test, changeTest] = useState(false);\r\n    const db = useContext(DBContext);\r\n    // const [multiplier, changeMultiplier] = useState({value: 1, label: \" mL\"})\r\n\r\n    useEffect(() => {\r\n        console.log(\"Entered\")\r\n    })\r\n    const range = (start, end, length = end - start) =>\r\n    Array.from({ length }, (_, i) => start + i)\r\n\r\n    \r\n    if(db.data === undefined || db.data === null){\r\n        return <div />\r\n    }\r\n\r\n\r\n    // useEffect(() => {\r\n    //     console.log(test)\r\n    //     changeTest(true)\r\n    // }, [test])\r\n    function round(num){\r\n        return Math.round((num + Number.EPSILON) * 100) / 100\r\n    }\r\n\r\n    return (\r\n        <div className=\"container d-flex justify-content-center\" style={{\r\n            minHeight:\"100vh\"\r\n        }}>\r\n            <div className=\"container-lg d-flex flex-column align-self-center text-center justify-content-center\">\r\n                {/* <h1 className=\"page-header border-bottom\" style={{\r\n                    fontWeight: 700\r\n                }}>\r\n                    Create Shower\r\n                </h1> */}\r\n                <h1 className=\"display-1 text-light\" style={{\r\n                    fontWeight:\"bolder\"\r\n                }}>Save Water.</h1>\r\n\r\n                <h5 className=\"text-light\" style={{\r\n                    marginTop: \"-20px\",\r\n                    fontWeight:\"bold\"\r\n                }}>Click \"sync\" in navbar to view changes from other devices</h5>\r\n\r\n                <div style={{\r\n                    margin: \"10px\"\r\n                }}/>\r\n\r\n                \r\n                <div className=\"card bg-primary text-white\" style={{\r\n                    marginLeft: \"6vw\",\r\n                    marginRight: \"6vw\",\r\n                }}>\r\n                    <div className = \"card-body\">\r\n                        <div className=\"container-xs align-self-center\" style={{\r\n                            // maxWidth: \"500px\",\r\n                            // minWidth: \"50vw\",\r\n                            fontWeight: \"bolder\"\r\n                        }}>\r\n                            <label style={{\r\n                                width: \"40vw\"\r\n                            }}>\r\n                                <h2 style={{\r\n                                    fontWeight:\"bolder\"\r\n                                }}>Preferred Unit: </h2>\r\n                                <Select className = \"text-dark\" defaultValue={db.multiplier} options={\r\n                                    db.options\r\n                                } onChange={db.changeMultiplier}/>\r\n                            </label>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{\r\n                    margin: \"10px\"\r\n                }}/>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm\">\r\n                        <div className=\"card text-center bg-primary\" style={{\r\n                            color:\"white\"\r\n                        }}>\r\n                            <div className=\"card-body\">\r\n                                <h3 style={{\r\n                                    fontWeight:\"bolder\"\r\n                                }}>\r\n                                    Summary\r\n                                </h3>\r\n                                <div style={{\r\n                                    margin: \"20px\"\r\n                                }}/>\r\n                                \r\n                                {\r\n                                      (() => {\r\n                                        \r\n                                        if(db.data.records === undefined || db.data.records === null) {\r\n                                            return (\r\n                                                \r\n                                                    <div>\r\n                                                        Looks like you haven't started a shower yet! If you want to see something here, click \"track water usage\" in the navbar\r\n                                                    </div>\r\n                                                )\r\n                                        }\r\n\r\n                                        let records = JSON.parse(JSON.stringify(db.data.records))\r\n                                        let keys = Object.keys(db.data.records)\r\n                                        \r\n                                        \r\n                                        let latest = records[keys[keys.length-1]]\r\n                                        latest[\"date\"] = keys[keys.length-1]\r\n\r\n                                        // console.log(latest.water - (3000 * db.multiplier.value))\r\n                                        // console.log(`${latest.water} - 3000 * ${db.multiplier.value}`)\r\n                                        //TODO: Fix goal updating problem...\r\n                                        let first = records[keys[0]]\r\n                                        first[\"date\"] = keys[0]\r\n\r\n                                        let pctChange = (latest.water - first.water) / first.water;\r\n                                        // console.log(\"(\" + latest.water + \"-\" + first.water + \") / \"  + first.water)\r\n                                        let bgColor = \"white\";\r\n\r\n                                        if(pctChange < 0){\r\n                                            pctChange = round(pctChange) * 100  + \"% decrease from start\";\r\n                                            bgColor = \"#bbffbb\"\r\n                                            \r\n                                        } else if(pctChange === 0){\r\n                                            pctChange = \"No change from start\";\r\n                                        } else {\r\n                                            pctChange = round(pctChange) * 100 + \"% increase from start\" ;\r\n                                            bgColor = \"#ffbbbb\"\r\n                                        }\r\n\r\n                                        let min;\r\n                                        let max;\r\n\r\n                                        \r\n\r\n                                        let arr = keys.map((key) => {\r\n                                            records = JSON.parse(JSON.stringify(db.data.records))\r\n\r\n                                            if(min === undefined){\r\n                                                min = records[key]\r\n                                                min[\"date\"] = key\r\n                                            } else if(records[key].water < min.water) {\r\n                                                min = records[key]\r\n                                                min[\"date\"] = key\r\n                                            }\r\n\r\n                                            if(max === undefined){\r\n                                                max = records[key]\r\n                                                max[\"date\"] = key\r\n                                            } else if(records[key].water > max.water) {\r\n                                                max = records[key]\r\n                                                max[\"date\"] = key\r\n                                            }\r\n                                        })\r\n                                        \r\n                                        // console.log(latest);\r\n                                        // console.log(min);\r\n                                        // console.log(max);\r\n\r\n                                        return(\r\n                                            [<h5 key=\"0\" style={{\r\n                                                color: bgColor,\r\n                                                fontWeight:600\r\n                                            }}>{pctChange}</h5>,\r\n                                            <h5 key=\"1\" style={{\r\n                                                color: latest.pctGoal < 0 ?  \"#bbffbb\" : \"#ffbbbb\",\r\n                                                fontWeight:600\r\n                                            }}>{latest.pctGoal}% of goal</h5>,  \r\n                                            <div key=\"2\" className=\"row\">\r\n                                                <div className=\"col-sm\">\r\n                                                    \r\n                                                    <MinMaxAverageCard \r\n                                                            bgColor=\"#495ea3\" \r\n                                                            waterLevel={round(first.water * db.multiplier.value)  + db.multiplier.label} \r\n                                                            date={new Date(parseInt(first.date)).toLocaleString()} \r\n                                                            shower={first.name} \r\n                                                            title=\"First Usage\" />\r\n                                                    \r\n                                                </div>\r\n                                                <div className=\"col-sm\">\r\n                                                    <MinMaxAverageCard \r\n                                                            bgColor=\"#495ea3\" \r\n                                                            waterLevel={round(latest.water * db.multiplier.value)  + db.multiplier.label} \r\n                                                            date={new Date(parseInt(latest.date)).toLocaleString()} \r\n                                                            shower={latest.name} \r\n                                                            title=\"Latest Usage\" />\r\n                                                </div>\r\n                                                <div className=\"col-sm\">\r\n                                                    <MinMaxAverageCard \r\n                                                        bgColor=\"#09794c\" \r\n                                                        waterLevel={round(min.water * db.multiplier.value)  + db.multiplier.label}\r\n                                                        date={new Date(parseInt(min.date)).toLocaleString()}\r\n                                                        shower={min.name}\r\n                                                        title=\"Minimum Usage\" />\r\n                                                </div>\r\n\r\n                                                <div className=\"col-sm\">\r\n                                                    <MinMaxAverageCard \r\n                                                        bgColor=\"#a30e7e\" \r\n                                                        waterLevel={round(max.water * db.multiplier.value)  + db.multiplier.label}  \r\n                                                        date={new Date(parseInt(max.date)).toLocaleString()} \r\n                                                        shower={max.name} \r\n                                                        title=\"Maximum Usage\"\r\n                                                        />\r\n                                                </div>\r\n                                            </div>]\r\n                                        )\r\n                                      }) () \r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div style={{\r\n                                    margin: \"20px\"\r\n                                }}/>\r\n\r\n                        \r\n\r\n                        <div className=\"card bg-primary\" style={{\r\n                            color:\"white\"\r\n                        }}>\r\n                            <div className=\"card-body text-center\" >\r\n                                <h3 className=\"p-2\" style={{\r\n                                    fontWeight:\"bolder\",\r\n                                }}>List of showers</h3>\r\n                                <div style={{\r\n                                    maxHeight: \"300px\",\r\n                                    overflowY: \"auto\",\r\n                                    overflowX: \"hidden\"\r\n                                }}>\r\n                                    {\r\n                                        // db.data.showers.map((val) => {\r\n                                        //     return (\r\n                                        //         <tr key={val['name']} style={theadTr}>\r\n                                        //             {/* <th scope=\"row\">1</th> */}\r\n                                        //             <td>{val['name']}</td>\r\n                                        //             <td>{val['rate']}</td>\r\n                                        //         </tr>\r\n                                        //     )\r\n                                        // })\r\n\r\n                                        \r\n\r\n                                        db.data.showers === undefined || db.data.showers === null ? <div>\r\n                                            Looks like you haven't set up any shower, yet! Click the \"add a shower\" button in the nav menu to do so.\r\n                                        </div> : Object.keys(db.data.showers).map((val) => {\r\n                                            return (\r\n                                                <ShowerTableEntry \r\n                                                    title={db.data.showers[val].name} \r\n                                                    key={db.data.showers[val].name}\r\n                                                    rate={round(db.data.showers[val].rate * db.multiplier.value) + db.multiplier.label + \"/sec\"}\r\n                                                    deleter={async () => {\r\n                                                        await db.deleteUserData('showers/' + db.data.showers[val].name)\r\n                                                    }}/>\r\n                                                // <tr key={db.data.showers[val].name} style={theadTr}>\r\n                                                //     {/* <th scope=\"row\">1</th> */}\r\n                                                //     <td>\r\n                                                //         <div>\r\n                                                //             {db.data.showers[val].name}\r\n                                                //         </div>\r\n                                                        \r\n                                                //     </td>\r\n                                                //     <td>\r\n                                                //         <div>\r\n                                                //             {round(db.data.showers[val].rate * multiplier.value)} {multiplier.label}/sec\r\n                                                //         </div>\r\n                                                        \r\n                                                //     </td>\r\n                                                //     {/* <td>\r\n                                                //         <btn className = \"btn btn-small btn-light text-danger\">Delete</btn>\r\n                                                //     </td> */}\r\n                                                // </tr>\r\n                                            )\r\n                                        })\r\n                                        // range(1,10).map((val) => {\r\n                                        //     return (\r\n                                        //         <tr key={val} style={theadTr}>\r\n                                        //             {/* <th scope=\"row\">1</th> */}\r\n                                        //             <td>Shower</td>\r\n                                        //             <td>rate</td>\r\n                                        //         </tr>\r\n                                        //     )\r\n                                        // })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div style={{\r\n                                        margin: \"20px\"\r\n                                    }}/>\r\n                    </div> \r\n                    <div className=\"col-sm\">\r\n\r\n\r\n                        <div className=\"card bg-primary\" style={{\r\n                            color:\"white\"\r\n                        }}>\r\n                          \r\n                            <div className=\"card-body text-center\">\r\n                                {\r\n                                    (function totalText(){\r\n                                        if(db.data.records === undefined || db.data.records == null){\r\n                                            return <h4>Looks like you haven't started a shower. Click the \"track water usage\" icon to start!</h4>\r\n                                        }\r\n                                        let total = 0\r\n                                        let keys = Object.keys(db.data.records)\r\n\r\n                                        keys.forEach((key) => {\r\n                                            total += db.data.records[key].water\r\n                                        })\r\n\r\n                                        return (\r\n                                            <h2 className=\"display-4 p-2\" style={{\r\n                                                fontWeight:\"bolder\"\r\n                                            }}>\r\n                                                Total: {round(total * db.multiplier.value)} {db.multiplier.label}\r\n                                            </h2>\r\n                                        )\r\n                                    })()\r\n\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div style={{\r\n                                        margin: \"20px\"\r\n                                    }}/>\r\n                        <div className=\"card bg-primary\" style={{\r\n                            color:\"white\"\r\n                        }}>\r\n                          \r\n                            <div className=\"card-body text-center\">\r\n                                {\r\n                                    (function goalText(){\r\n                                        if(db.data.goal === null || db.data.goal === undefined){\r\n                                            return (<h4>\r\n                                                Looks like you haven't set up a goal. \r\n                                                Go to the 'track water usage' tab to get \r\n                                                your personal goal\r\n                                            </h4>)\r\n                                        }\r\n                                        return (\r\n                                            <h2 className=\"display-4 p-2\" style={{\r\n                                                fontWeight:\"bolder\"\r\n                                            }}>\r\n                                                Get less than {round(db.data.goal * db.multiplier.value)} {db.multiplier.label}\r\n                                            </h2>\r\n                                        )\r\n                                    })()\r\n\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div style={{\r\n                                        margin: \"20px\"\r\n                                    }}/>\r\n                      <div className=\"card bg-primary\" style={{\r\n                            color:\"white\"\r\n                        }}>\r\n                            <div className=\"card-body text-center\">\r\n                                <h3 className=\"p-2\" style={{\r\n                                    fontWeight:\"bolder\"\r\n                                }}>Water usages</h3>\r\n                                    <div style={{\r\n                                        maxHeight: \"600px\",\r\n                                        overflowY: \"auto\",\r\n                                        overflowX: \"hidden\"\r\n                                    }}> \r\n                                        {(() => {\r\n                                            if(db.data.records === undefined || db.data.records === null){\r\n                                                return (<div className=\"m-2\">\r\n                                                    Looks like you haven't started a shower yet! If you want to see something here, click \"track water usage\" in the navbar    \r\n                                                </div>)\r\n                                            }\r\n\r\n                                            return Object.keys(db.data.records).map((val) => {\r\n\r\n                                                let spanbadge;\r\n                                                // console.log(db.data.records[val].pctGoal === undefined)\r\n                                                if(db.data.records[val].pctGoal === undefined || db.data.records[val].pctGoal === NaN){\r\n                                                    spanbadge = (<span className=\"badge badge-pill badge-warning\">\r\n                                                        NaN\r\n                                                    </span>);\r\n                                                }\r\n                                                else if(db.data.records[val].pctGoal < 0){\r\n                                                    spanbadge = (<span className=\"badge badge-pill badge-success\">\r\n                                                        {db.data.records[val].pctGoal}%\r\n                                                    </span>);\r\n                                                } else if(db.data.records[val].pctGoal === 0){\r\n                                                    spanbadge = (<span className=\"badge badge-pill badge-light\">\r\n                                                        {db.data.records[val].pctGoal}%\r\n                                                    </span>);\r\n                                                } else {\r\n                                                    spanbadge = (<span className=\"badge badge-pill badge-danger\">\r\n                                                        +{db.data.records[val].pctGoal}%\r\n                                                    </span>);    \r\n                                                }\r\n\r\n                                                return <RecordTableEntry \r\n                                                date={val} \r\n                                                key={val}\r\n                                                title={db.data.records[val].name} \r\n                                                gallons={round(db.data.records[val].water * db.multiplier.value) + db.multiplier.label} \r\n                                                spanbadge={spanbadge} \r\n                                                deleter={async () => {\r\n                                                    await db.deleteUserData('records/' + val)\r\n                                                    let records = JSON.parse(JSON.stringify(db.data.records))\r\n                                                    let keys = Object.keys(db.data.records)\r\n                                                    \r\n                                                    let latest = records[keys[keys.length-1]].water\r\n                                                    // latest[\"date\"] = keys[keys.length-1]\r\n                                                    // if(!db.goal === latest){\r\n                                                    \r\n                                                    if(latest - 3000 <= 0){\r\n                                                        await db.writeUserData('goal', latest);\r\n                                                    } else {\r\n                                                        await db.writeUserData('goal', latest-3000);\r\n                                                    }\r\n                                                }}/>\r\n                                            })\r\n                                        })()}\r\n                                    </div>       \r\n                            </div>         \r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        // </div>  \r\n    )\r\n}","// import \"bootstrap/dist/css/bootstrap.min.css\";\r\n// import '../scss/custom.scss';\r\n\r\n\r\nexport function Stopwatch({ seconds, changeStart, didStart, changeSeconds }) {\r\n    return (\r\n        <div>\r\n            <div className=\"card bg-primary\" style={{\r\n                // borderRadius: \"10px\",\r\n                marginBottom: \"10px\",\r\n                color:\"white\"\r\n            }}>\r\n                {/* <div className=\"card-header bg-primary\" style={{\r\n                    borderTopLeftRadius: \"10px\",\r\n                    borderTopRightRadius: \"10px\",\r\n                    color: \"white\"\r\n                }}>\r\n                    Timer\r\n                </div> */}\r\n                <div className=\"card-body\">\r\n                    <label htmlFor=\"cardinput\">\r\n                        <h3 style={{\r\n                            fontWeight:\"bolder\"\r\n                        }}>Timer</h3>\r\n                    </label>\r\n\r\n                    <h4 className=\"card-title\">\r\n                        Seconds:\r\n                        <input type=\"number\" step=\"any\" min=\"0\" id=\"cardinput\" className=\"bg-secondary form-control border-0\" value={\r\n                            Number.isNaN(parseFloat(seconds)) ? \"\" : parseFloat(seconds)} style={{\r\n                            fontSize: \"20px\",\r\n                            fontWeight: \"bolder\",\r\n                            color: \"white\"\r\n                        }} onChange={(e) => {\r\n                            changeSeconds(parseFloat(e.target.value))\r\n                        }}/>\r\n                        {/* {seconds} seconds */}\r\n                    </h4>\r\n                    <h5>\r\n                        Edit the time if you need to.\r\n                    </h5>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-auto\">\r\n                            <button className=\"btn btn-light\" style={{\r\n                                marginBottom: \"10px\",\r\n                                color:\"green\"\r\n                            }} onClick={() => {\r\n                                changeStart(!didStart);\r\n                            }}>\r\n                                {didStart ? \"Stop\" : \"Start\"}\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-auto\">\r\n\r\n                            <button className=\"btn btn-light\" style={{\r\n                                color:\"red\",\r\n                                fontWeight: \"800\"\r\n                            }} onClick={() => {\r\n                                changeSeconds(0);\r\n                            }}>\r\n                                Reset\r\n                        </button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { TextBox } from \"../widgets/textbox.js\";\r\n// import { Link, useHistory } from \"react-router-dom\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\n// import { FBAuthContext } from \"../providers/firebaseauthprovider.js\";\r\nimport { DBContext } from \"../providers/firebasedbprovider.js\";\r\nimport { Stopwatch } from \"../widgets/Stopwatch\";\r\n\r\n\r\nexport function CreateShower(props) {\r\n  const [seconds, changeSeconds] = useState(0);\r\n  const [didStart, changeStart] = useState(false);\r\n  const [capacity, changeCapacity] = useState(0);\r\n  const [name, changeName] = useState();\r\n  const [error, changeError] = useState(null);\r\n\r\n  let db = useContext(DBContext);\r\n\r\n  function round(num){\r\n    return Math.round((num + Number.EPSILON) * 100) / 100\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log(\"Something changed\")\r\n    if (didStart) {\r\n      setTimeout(() => {\r\n        changeSeconds(round(seconds + 0.1));\r\n      }, 100);\r\n    }\r\n  });\r\n\r\n  async function onSubmit(event) {\r\n    event.preventDefault();\r\n    try{\r\n      console.log(capacity);\r\n      console.log(name);\r\n      console.log(seconds);\r\n      let amount = parseFloat(capacity);\r\n      let time = parseFloat(seconds);\r\n      let showers = Object.keys(db.data.showers)\r\n      console.log(showers)\r\n      if(showers.includes(name) || capacity === \"\" || capacity === 0){\r\n        let errCode = {}\r\n        if(showers.includes(name)){\r\n          errCode.shower = true\r\n        } \r\n        if(capacity === \"\" || capacity === 0){\r\n          errCode.blank = true\r\n        }\r\n        throw errCode\r\n      } \r\n      console.log(\"RATE: \" + (amount/db.multiplier.value) / time)\r\n      await db.writeUserData(\"showers/\" + name, {\r\n        rate: (amount/db.multiplier.value) / time,\r\n        name: name,\r\n      });\r\n      window.location = \"/\";\r\n    } catch(error) {\r\n      console.log(error)\r\n      changeError(error)\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      className=\"container d-flex\"\r\n      style={{\r\n        minHeight: \"100vh\",\r\n      }}\r\n    >\r\n      <div className=\"container-sm align-self-center\">\r\n        <div className=\"card bg-primary text-white\">\r\n          <div className=\"card-body\">\r\n            <h1\r\n              className=\"page-header\"\r\n              style={{\r\n                fontWeight: \"bolder\",\r\n              }}\r\n            >\r\n              Create Shower\r\n            </h1>\r\n            <div\r\n              style={{\r\n                margin: \"20px\",\r\n              }}\r\n            />\r\n            <p>\r\n              To keep track of how much water you use during showering, you need\r\n              to give the rate at which the water flows in your shower.\r\n            </p>\r\n\r\n            <h4>Instructions:</h4>\r\n            <ol>\r\n              <li>If you haven't already, set your preferred unit in the dashboard page.</li>\r\n              <li>Start your shower</li>\r\n              <li>Click the button to start the timer.</li>\r\n              <li>\r\n                While the timer is running, fill a container(with your preferred unit) with\r\n                water.\r\n              </li>\r\n              <li>\r\n                When you have finished filling the container, stop the timer\r\n              </li>\r\n              <li>\r\n                Record the amount of water filled and the name of shower. We've\r\n                got the time already\r\n              </li>\r\n              <li>Sometimes, your shower may provide a rate for you. If this is the case, edit the time as needed. For example, if the rate given was 2 gallons/minute, set the time to 60 and capacity to 2</li>\r\n            </ol>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            margin: \"30px\",\r\n          }}\r\n        />\r\n\r\n        <div\r\n          style={{\r\n            margin: \"20px\",\r\n          }}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col-sm\">\r\n            <Stopwatch\r\n              seconds={seconds}\r\n              changeStart={changeStart}\r\n              didStart={didStart}\r\n              changeSeconds={changeSeconds}\r\n            />\r\n          </div>\r\n          <div className=\"col-sm\">\r\n            {(() => {\r\n              if(error !== null){\r\n                let errmessage1 = \"\";\r\n                let errmessage2 = \"\";\r\n                if(error.shower){\r\n                  errmessage1 += \"Shower already exists \\n\";\r\n                }\r\n                if(error.blank){\r\n                  errmessage2 += \"No capacity specified\"\r\n                }\r\n\r\n                return (<div className=\"card bg-danger text-white mb-3\">\r\n                  <div className=\"card-body\">\r\n                    <h5 style={{\r\n                      fontWeight: \"bolder\"\r\n                    }}>{errmessage1}</h5>\r\n                    <h5 style={{\r\n                      fontWeight: \"bolder\"\r\n                    }}>{errmessage2}</h5>\r\n                  </div>\r\n                </div>)\r\n              }\r\n            })()}\r\n            <div className = \"card mb-3 bg-primary text-white\">\r\n              <h4 className=\"card-body\" style={{\r\n                fontWeight: \"bolder\"\r\n              }}>\r\n                Preferred Unit: {db.multiplier.label}\r\n              </h4>\r\n            </div>\r\n            <form className=\"card bg-primary text-white\" onSubmit={onSubmit}>\r\n              <div className=\"card-body\">\r\n                <TextBox\r\n                    title={`Enter capacity(${db.multiplier.label})`}\r\n                    onChange={(e) => {\r\n                      changeCapacity(e.target.value);\r\n                    }}\r\n                    type=\"number\"\r\n                />\r\n                <TextBox\r\n                    title=\"Enter shower name\"\r\n                    onChange={(e) => {\r\n                      changeName(e.target.value);\r\n                    }}\r\n                    type=\"text\"\r\n                />\r\n\r\n                <input type=\"submit\" className=\"btn btn-light\" />\r\n              </div>\r\n              \r\n            </form>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            margin: \"20px\",\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {Stopwatch} from '../widgets/Stopwatch';\r\n// import {TextBox} from '../widgets/textbox';\r\nimport {useState, useContext, useEffect} from 'react';\r\nimport {DBContext} from '../providers/firebasedbprovider';\r\nimport Select from 'react-select';\r\n\r\n\r\n\r\nexport function CreateBath(){\r\n    const [seconds, changeSeconds] = useState(0)\r\n    const [didStart, changeStart] = useState(false);\r\n    const [name, changeName] = useState(\"\");\r\n    const [once, changeOnce] = useState(true);\r\n    const [response, changeResponse] = useState();\r\n    const [water, changeWater] = useState(0);\r\n    const [rate, changeRate] = useState();\r\n    const [error, changeError] = useState(\"\")\r\n    let db = useContext(DBContext)\r\n\r\n    function round(num){\r\n        return Math.round((num + Number.EPSILON) * 100) / 100\r\n    }\r\n    useEffect(() => {\r\n        async function getData(){\r\n\r\n                \r\n            // }\r\n            let data = db.data.showers\r\n            changeResponse(data);\r\n            changeOnce(false) \r\n        }\r\n        if(once){\r\n            // console.log(db.data)\r\n            getData()\r\n        }\r\n        // console.log(\"Something changed\")\r\n        let tm;\r\n        if(didStart){\r\n            tm = setTimeout(() => {\r\n                \r\n                changeSeconds(round(seconds+0.1));\r\n                // console.log(water)\r\n                // console.log(water === NaN)\r\n                changeWater(round(rate*seconds));\r\n            }, 100)\r\n        } \r\n\r\n        return () => {\r\n            clearTimeout(tm)\r\n        }\r\n\r\n        \r\n    }, [seconds, didStart, name, once, response, water, rate, db.data.showers])\r\n\r\n    // async function onSubmit(event){\r\n    //     event.preventDefault();\r\n    // }\r\n\r\n    async function changeNameWater(name){\r\n        changeName(name)\r\n        // consolelog(name)\r\n        // let data = await db.getUserData('/showers/' + name['value'])\r\n\r\n        let data = db.data.showers[name['value']]\r\n        // console.log(db.data.showers[name['value']])\r\n        changeRate(data['rate'])\r\n        \r\n    }\r\n\r\n    async function onSubmit(event){\r\n        event.preventDefault();\r\n\r\n        try{\r\n            // if(water === NaN){\r\n            //     throw {'code': \"Select a shower\"}\r\n            // } \r\n            if(water === 0){\r\n                throw {'code': \"You didn't start your shower yet???\"}\r\n            }\r\n            if(name === \"\"){\r\n                throw {'code': \"Specify a shower!\"}\r\n            }\r\n            \r\n            let date = Date.now().toString()\r\n            // console.log(date)\r\n            if(db.data.goal === undefined){\r\n                await db.writeUserData('records/' + date, {\r\n                    'water': water,\r\n                    'name': name['value'],\r\n                    'pctGoal': 0\r\n                });\r\n            } else {\r\n                let pctGoal = Math.round((water-db.data.goal)/water * 10000)/100\r\n                await db.writeUserData('records/' + date, {\r\n                    'water': water,\r\n                    'name': name['value'],\r\n                    'pctGoal': pctGoal\r\n                });\r\n            }\r\n\r\n            let records = JSON.parse(JSON.stringify(db.data.records))\r\n            let keys = Object.keys(db.data.records)\r\n            \r\n            let latest = records[keys[keys.length-1]].water\r\n            // latest[\"date\"] = keys[keys.length-1]\r\n            // if(!db.goal === latest){\r\n            \r\n            console.log(latest - (3000 * db.multiplier.value))\r\n            console.log(`${latest} - (300 * ${db.multiplier.value})`)\r\n            if(latest - 3000 <= 0){\r\n                await db.writeUserData('goal', latest);\r\n            } else {\r\n                await db.writeUserData('goal', latest-3000);\r\n            }\r\n\r\n            \r\n\r\n            window.location = \"/\"\r\n        } catch(e) {\r\n            changeError(e.code)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"container d-flex\" style={{\r\n            minHeight:\"100vh\"\r\n        }}>\r\n            <div className=\"container-sm align-items-center align-self-center\">\r\n\r\n                    <div style={{\r\n                        margin: \"20px\"\r\n                    }}/>\r\n\r\n                    <div className=\"card bg-primary\" style={{\r\n                        color:'white'\r\n                    }}>\r\n\r\n\r\n                        <div className=\"card-body\">\r\n                            <h1 className=\"page-header\" style={{\r\n                                fontWeight: 700\r\n                            }}>\r\n                                Track your Water Usage\r\n                            </h1>\r\n                            <p>To keep track of how much water you use during showering,\r\n                                you need to give the rate at which the water flows in your\r\n                                shower.\r\n                            </p>\r\n\r\n                            <h4>Instructions:</h4>\r\n                            <ol>\r\n                                <li>Select the shower that you are using.</li>\r\n                                <li>Start your shower</li>\r\n                                <li>Click the button to start the timer.</li>\r\n                                <li>Start your showering. Be sure to pause the timer when your water is off</li>\r\n                                <li>When you are finished showering, stop the timer</li>\r\n                            </ol>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{\r\n                        margin: \"20px\"\r\n                    }}/>\r\n                    <div className=\"card bg-primary text-white\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm\">\r\n                                    <h3 className=\"text-center\" style={{\r\n                                        fontWeight: 700\r\n                                    }}>\r\n                                        Water Used: {Number.isNaN(water) ? \"Select a shower to see water usage\" : round(water * db.multiplier.value) + db.multiplier.label}\r\n                                    </h3>\r\n                                </div>\r\n                                <div className=\"col-sm\">\r\n                                    <h3 className=\"text-center\" style={{\r\n                                        fontWeight: 700\r\n                                    }}>\r\n\r\n                                        {\r\n                                            db.data.goal === undefined ? \"Is this your first shower? Goals will be set after your first.\":\r\n                                            round(db.data.goal * db.multiplier.value) + db.multiplier.label\r\n                                            }\r\n                                    </h3>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div style={{\r\n                        margin: \"20px\"\r\n                    }}/>\r\n                    <div className=\"row d-flex align-items-stretch\">\r\n                        <div className=\"col-sm\">\r\n                            <Stopwatch seconds={seconds} \r\n                                    changeStart={changeStart}\r\n                                    didStart={didStart}\r\n                                    changeSeconds={changeSeconds}/>\r\n                        </div>\r\n                        <div className=\"col-sm\">\r\n                            {/* <datalist id=\"datalistOptions\">\r\n                                {\r\n                                    \r\n                                    ? Object.keys(response).map((value) => <option key={value} value={value} />) : <h1></h1>\r\n                                }\r\n                            </datalist> */}\r\n                            {(() => {\r\n                                if(error !== \"\"){\r\n                                    return  <div>\r\n                                        <div className=\"card bg-danger m-2\">\r\n                                            <div className=\"card-body text-white\">\r\n                                                <h4 style={{\r\n                                                    fontWeight: \"bolder\"\r\n                                                }}>{error}</h4>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div style={{\r\n                                            margin: \"20px\"\r\n                                        }}/>\r\n                                    </div>\r\n                                }\r\n                            })()}\r\n\r\n                            <form className=\"card bg-primary\" onSubmit = {onSubmit}>\r\n                                {/* <TextBox title=\"Enter shower name\" onChange={(e) => {\r\n                                    changeName(e.target.value)\r\n                                }} type=\"text\" list=\"datalistOptions\"/> */}\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"form-group\">\r\n                                        <h4 style={{\r\n                                            color:\"white\"\r\n                                        }}>Shower Name:</h4>\r\n                                        <Select style={{\r\n                                            color:\"black\"\r\n                                        }} defaultValue={name} onChange={changeNameWater} options={ response !== undefined ? Object.keys(response).map((value) => {\r\n                                            return {\r\n                                                value: value,\r\n                                                label: value\r\n                                            }\r\n                                        }) : []} />\r\n                                    </div>\r\n                                    <div style={{\r\n                                        margin: \"10px\"\r\n                                    }}/>\r\n                                    <input type=\"submit\" className=\"btn btn-light\"/>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n \r\n                    </div>\r\n                    <div style={{\r\n                            margin: \"20px\"\r\n                        }}/> \r\n            </div>\r\n        </div>\r\n    )\r\n}","import {BrowserRouter as Router, Route, Link, Redirect} from 'react-router-dom';\r\n// import {Login} from './login';\r\n// import {Register} from './register';\r\n// import {Info} from './info';\r\nimport {Dashboard} from './dashboard';\r\nimport {CreateShower} from './createshower';\r\nimport { FBAuthContext } from '../providers/firebaseauthprovider';\r\nimport {DBContext} from '../providers/firebasedbprovider';\r\nimport {useContext} from 'react';\r\nimport {CreateBath} from './createbath';\r\nimport {Info} from './info';\r\nimport * as i from 'idb-keyval';\r\n\r\n//UNDOUNDO\r\nexport default function Main(){\r\n    let context = useContext(FBAuthContext)\r\n    let db = useContext(DBContext);\r\n    // console.log(context);\r\n\r\n    // console.log(\"CURRENT USER DATA:\")\r\n    // console.log(db.encrypt({}))\r\n\r\n    return(\r\n        <Router>\r\n            <Redirect to=\"/dashboard\"></Redirect>\r\n            <nav className=\"navbar fixed-top navbar-dark navbar-expand-lg bg-primary\">\r\n                    {/* <Link className=\"navbar-brand\" style={{\r\n                        fontWeight:700\r\n                    }}>\r\n                        {context.currentUser.email}'s Dashboard\r\n                    </Link> */}\r\n                    <Link to =\"/dashboard\" className=\"navbar-brand\">\r\n                        <span style={{\r\n                            fontWeight: 700\r\n                        }}>\r\n                            {context.currentUser.email}'s\r\n                        </span> Dashboard   \r\n                    </Link>\r\n                    \r\n                <button \r\n                    className=\"navbar-toggler\" \r\n                    type=\"button\" \r\n                    data-toggle=\"collapse\" \r\n                    data-target=\"#navbarTogglerDemo03\" \r\n                    aria-controls=\"navbarTogglerDemo03\" \r\n                    aria-expanded=\"false\" \r\n                    aria-label=\"Toggle navigation\"\r\n                >\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        <li className=\"nav-item\">\r\n                        <Link className = \"nav-link\" to=\"/createbath\"> Track water usage</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link className = \"nav-link\" to=\"/createshower\"> Add a shower </Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link className = \"nav-link\" to=\"/info\"> Site info </Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <button className=\"btn nav-link\" onClick={() => {\r\n                                db.syncData()\r\n                            }}>\r\n                                Sync Data\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <button className=\"btn nav-link\" onClick={async () => {\r\n                                // db.clear()\r\n                                window.localStorage.clear()\r\n                                await i.clear()\r\n                                context.logout()\r\n                                // window.location = \"/\"\r\n                            }}>\r\n                                Logout\r\n                            </button>\r\n                        </li>\r\n\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n            {/* <h1>\r\n               You have authenticated successfully so yeah \r\n            </h1> */}\r\n            <Route path=\"/createshower\" component={CreateShower} />\r\n            <Route path=\"/createbath\" component={CreateBath} />\r\n            <Route path=\"/dashboard\" component={Dashboard} />\r\n            <Route path=\"/info\" component={Info} />\r\n        </Router>\r\n    )\r\n}","import firebase from 'firebase';\r\n\r\n\r\n//STOP undo here: 4/4/2021\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_apiKey,\r\n    authDomain: process.env.REACT_APP_authDomain,\r\n    projectId: process.env.REACT_APP_projectId,\r\n    storageBucket: process.env.REACT_APP_storageBucket,\r\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n    appId: process.env.REACT_APP_appId\r\n};\r\n\r\nif(!firebase.apps.length){\r\n    firebase.initializeApp(firebaseConfig);\r\n} else {\r\n    firebase.app();\r\n}\r\n\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.database();\r\n\r\n","import {auth} from './firebase.js';\r\nimport {useState, useEffect, createContext} from 'react';\r\n\r\n\r\nexport const FBAuthContext = createContext();\r\n\r\n//UNDOUNDO\r\nexport default function FirebaseAuthProvider({children}){\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [isloading, setLoading] = useState(true);\r\n\r\n    async function login(email, password){\r\n        let res = await auth.signInWithEmailAndPassword(email, password);\r\n        return res;\r\n    }\r\n\r\n    async function logout(){\r\n        let res = await auth.signOut()\r\n        return res;\r\n    }\r\n\r\n    async function register(email, password){\r\n        let res = await auth.createUserWithEmailAndPassword(email, password)\r\n        \r\n        return res;\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        const unsubscribe = auth.onAuthStateChanged((user) => {\r\n            // console.log(\"executed here\")\r\n            // console.log(\"CURRENT USER IN AUTH\")\r\n            // console.log(user)\r\n            setCurrentUser(user);\r\n            setLoading(false)\r\n        })\r\n        return () => {\r\n            setCurrentUser({});\r\n            setLoading({})\r\n        };\r\n    }, []);\r\n\r\n    const value = {\r\n        currentUser,\r\n        isloading,\r\n        login,\r\n        logout,\r\n        register\r\n    }\r\n\r\n    return (\r\n        <FBAuthContext.Provider value={value}>\r\n            {children}\r\n        </FBAuthContext.Provider>\r\n    )\r\n}","import {db} from './firebase.js';\r\nimport {createContext, useContext, useState, useEffect, useCallback} from 'react';\r\nimport {FBAuthContext} from './firebaseauthprovider';\r\nimport * as CryptoJS from 'crypto-js';\r\nimport * as i from 'idb-keyval'\r\n\r\n\r\n\r\n\r\n//UNDO HERE: 4/11/21 encryption\r\nexport const DBContext = createContext();\r\n\r\n//UNDOUNDO\r\n//Undo here - 4/6/21\r\nexport default function FirebaseDBProvider({children}){\r\n    //Undo here - 3/15/21\r\n    let auth = useContext(FBAuthContext);\r\n    // console.log(auth.currentUser.uid)\r\n    const [userId, changeUID] = useState();\r\n    const [reload, changeReload] = useState();\r\n    const [multiplier, changeMultiplier] = useState({value: 1, label: \" mL\"})\r\n    const options = [\r\n        {\r\n            value: 1/1000,\r\n            label: \" L\"\r\n        },\r\n        {\r\n            value: 0.000264,\r\n            label: \" g\"\r\n        },\r\n        {value: 1, label: \" mL\"}\r\n    ]\r\n    // const [logout, changeLogout] = useState(false);\r\n    // const storage = window.localStorage;\r\n    \r\n\r\n    function encrypt(jsonString){\r\n \r\n        // Encrypt\r\n        let ciphertext = CryptoJS.AES.encrypt(jsonString, auth.currentUser.uid).toString();\r\n        return ciphertext;\r\n\r\n    }\r\n\r\n    function decrypt(encryptstring){\r\n        // console.log(\"entered the decryption function\")\r\n        // console.log(auth.currentUser.uid)\r\n        // Decrypt\r\n        let bytes  = CryptoJS.AES.decrypt(encryptstring, auth.currentUser.uid);\r\n        let decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n         \r\n        return decryptedData;\r\n    }\r\n\r\n    const [stateMap, changeStateMap] = useState({\r\n        data: {},\r\n        start: false\r\n    })\r\n\r\n    const getUserData = useCallback(async function getUserData(dir){\r\n        // console.log(\"ENTERED USECALLBACK\")\r\n        // console.log(userId + \"/\" + dir)\r\n        // console.log(\"entered usecallback\")\r\n        let data = await db.ref(userId + \"/\" + dir).get()\r\n        return data.val();\r\n    }, [userId]);\r\n\r\n    async function clear(){\r\n        await i.del('local-user-data')\r\n        // storage.clear()\r\n        // console.log(\"STARTING CHANGE LOGOUT\")\r\n        // changeLogout(true)\r\n        // console.log(\"CHANGED LOGOUT TO TRUE\")\r\n    }\r\n    async function syncData(){\r\n        await clear()\r\n        changeStateMap({\r\n            data: {},\r\n            start: false\r\n        })\r\n        thingFunc()\r\n    }\r\n\r\n    function thingFunc(){\r\n        // console.log(\"entered useEffect\")\r\n        async function getData(){\r\n            let data;\r\n            try{\r\n                data = await getUserData('/')\r\n            } catch(error){\r\n                console.log(\"failure. if it is just a logout function, don't worry\")\r\n                console.log(error)\r\n                return;\r\n            }\r\n            // console.log(\"USERID\")\r\n            // console.log(userId)\r\n            // console.log(data)\r\n            \r\n            if(auth.currentUser !== undefined){\r\n                if(data !== null){\r\n                    await i.set('local-user-data', encrypt(JSON.stringify(data)))\r\n\r\n                    changeStateMap({\r\n                        data: data,\r\n                        start: true\r\n                    });\r\n                } else {\r\n                    await i.set('local-user-data', encrypt(JSON.stringify({})))\r\n                }\r\n            }\r\n            // console.log(\"executed here\")\r\n        }\r\n        \r\n        \r\n        //REPLACE\r\n        // i.get('local-user-data')\r\n\r\n        // console.log(stateMap)\r\n        async function secondPart(){\r\n            // console.log(i.get('local-user-data'))\r\n            let storageItems = await i.get('local-user-data');\r\n            // console.log(raw)\r\n           \r\n            \r\n            // const storageItems = JSON.parse(get)\r\n            // console.log(storageItems)\r\n            // console.log(stateMap.start)\r\n\r\n            if(!stateMap.start){\r\n                console.log(\"entered\")\r\n                if(storageItems === null || storageItems === undefined){\r\n                    // console.log(\"get request to firebase\")\r\n                    await getData()\r\n                } else {\r\n                    // console.log(\"here(i'm doing the decryption!)\")\r\n                    \r\n                    // console.log(\"START:\" + stateMap.start)\r\n                    if(auth.currentUser !== undefined){\r\n                        storageItems = decrypt(storageItems)\r\n                        changeStateMap({data: storageItems, start:true})\r\n                    }\r\n                }\r\n                \r\n            }\r\n        }\r\n\r\n        secondPart()\r\n\r\n    }\r\n\r\n    useEffect(thingFunc, [stateMap.start, getUserData])\r\n\r\n    if(auth.currentUser !== undefined && auth.currentUser !== null){\r\n        if(userId === undefined){\r\n            changeUID(auth.currentUser.uid);\r\n        }\r\n        \r\n        // console.log(\"SET USERID\" + userId)\r\n    }\r\n\r\n    async function deleteUserData(dir){\r\n        let dirs = dir.split(\"/\");\r\n\r\n        let op = \"delete map\"\r\n        dirs.forEach((dir) => {\r\n          op += \"[\" + '\"' + dir + '\"' + \"]\"\r\n        })\r\n\r\n        let operation = new Function(\"map\", op)\r\n        operation(stateMap.data)\r\n\r\n        changeStateMap({data: stateMap[\"data\"], start:stateMap['start']})\r\n        await i.set('local-user-data', encrypt(JSON.stringify(stateMap['data'])))\r\n\r\n        await db.ref(userId + \"/\" + dir).remove();\r\n    }\r\n\r\n    async function writeUserData(dir, data) {\r\n\r\n        let dirs = dir.split('/');\r\n        if(dirs.length > 1){\r\n          let last = dirs[dirs.length - 1]\r\n          let dirList = dirs.slice(0, -1)\r\n          let accessor;\r\n          dirList.forEach(element => {\r\n              if(accessor === undefined || accessor === null) {\r\n                  if(stateMap.data[element] === undefined){\r\n                      stateMap.data[element] = {}\r\n                  } \r\n                  accessor = stateMap.data[element]\r\n              } else if(accessor[element] === undefined){\r\n                  accessor[element] = {}\r\n                  accessor = accessor[element]\r\n              } else {\r\n                  accessor = accessor[element]\r\n    \r\n              }\r\n            //   console.log(accessor)\r\n          });\r\n          accessor[last] = data;\r\n        } else {\r\n          stateMap.data[dirs[0]] = data\r\n        }\r\n\r\n        // let dirs = dir.split('/')\r\n        // let last = dirs[dirs.length - 1]\r\n        // let dirList = dirs.slice(0, -1)\r\n        // let accessor;\r\n        // dirList.forEach(element => {\r\n        //     if(accessor === undefined || accessor === null) {\r\n        //         console.log(\"STATEMAP: \" + stateMap.data)\r\n        //         if(stateMap.data[element] === undefined){\r\n        //             stateMap.data[element] = {}\r\n        //         } \r\n        //         accessor = stateMap.data[element]\r\n\r\n\r\n        //     } else {\r\n        //         accessor = accessor[element]\r\n        //     }\r\n        // });\r\n        // accessor[last] = data\r\n\r\n\r\n        // console.log(\"DIR\")\r\n        // console.log(last);\r\n        changeStateMap({data: stateMap['data'], start:stateMap['start']})\r\n        await i.set('local-user-data', encrypt(JSON.stringify(stateMap['data'])));\r\n        // console.log(stateMap.data)\r\n\r\n        await db.ref(userId + \"/\" + dir).set(data);\r\n\r\n        // console.log(await getUserData(dir))\r\n    }\r\n\r\n\r\n\r\n\r\n    let data = stateMap.data\r\n    const value = {\r\n        writeUserData,\r\n        syncData,\r\n        clear,\r\n        deleteUserData,\r\n        encrypt,\r\n        changeMultiplier,\r\n        multiplier,\r\n        options,\r\n        // getUserData,\r\n        data\r\n    }\r\n\r\n    return (\r\n        <DBContext.Provider value={value}>\r\n            {children}\r\n        </DBContext.Provider>\r\n    )\r\n}","// import \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport function TextBox({title, onChange, type, ...props}){\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor={title}>\r\n                {title + \":\"}\r\n            </label>\r\n            <input \r\n                type={type}\r\n                className=\"form-control\"\r\n                id={title}\r\n                aria-describedby={title}\r\n                placeholder={title + \" here\"}\r\n                onChange={onChange} {...props}/>\r\n        </div>\r\n    );\r\n}\r\n"],"sourceRoot":""}