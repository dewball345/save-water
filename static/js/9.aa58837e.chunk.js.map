{"version":3,"sources":["widgets/privateroute.js","providers/firebase.js","providers/firebaseauthprovider.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["PrivateRoute","Component","component","rest","context","useContext","FBAuthContext","render","props","isloading","console","log","className","style","minHeight","role","undefined","currentUser","to","firebase","apps","length","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","database","createContext","FirebaseAuthProvider","children","useState","setCurrentUser","setLoading","email","password","a","signInWithEmailAndPassword","res","signOut","createUserWithEmailAndPassword","useEffect","onAuthStateChanged","user","value","login","logout","register","Provider","_objectWithoutProperties","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/9.aa58837e.chunk.js","sourcesContent":["import React, {useContext} from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {FBAuthContext} from '../providers/firebaseauthprovider.js';\r\n\r\n//UNDOUNDO\r\nexport default function PrivateRoute({component: Component, ...rest}){\r\n    let context = useContext(FBAuthContext)\r\n    return(\r\n        <Route {...rest}\r\n            render={props => {\r\n                // console.log(\"CURRENT USER\")\r\n                // console.log(context.currentUser)\r\n                // console.log(context.isloading)\r\n                // console.log(\"END\")\r\n                if(context.isloading){\r\n                    console.log(\"Context is loading\")\r\n                    return (\r\n                        <div className=\"container d-flex align-items-center justify-content-center\" style={{\r\n                            minHeight:\"100vh\"\r\n                        }}>\r\n                            <div className=\"spinner-border text-primary\" role=\"status\">\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }else if(context.currentUser === undefined){\r\n                    // console.log(\"Currentuser is undefined\")\r\n                    return <Redirect to=\"/authpage\" />\r\n                } else if(context.currentUser === null){\r\n                    // console.log(\"Currentuser is null\");\r\n                    return <Redirect to=\"/authpage\" />\r\n                } else {\r\n                    // console.log(\"current user is\")\r\n                    // console.log(context.currentUser)\r\n                    return <Component {...props} />\r\n                }\r\n            }}>\r\n\r\n        </Route>\r\n    );\r\n\r\n}","import firebase from 'firebase';\r\n\r\n\r\n//STOP undo here: 4/4/2021\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_apiKey,\r\n    authDomain: process.env.REACT_APP_authDomain,\r\n    projectId: process.env.REACT_APP_projectId,\r\n    storageBucket: process.env.REACT_APP_storageBucket,\r\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n    appId: process.env.REACT_APP_appId\r\n};\r\n\r\nif(!firebase.apps.length){\r\n    firebase.initializeApp(firebaseConfig);\r\n} else {\r\n    firebase.app();\r\n}\r\n\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.database();\r\n\r\n","import {auth} from './firebase.js';\r\nimport {useState, useEffect, createContext} from 'react';\r\n\r\n\r\nexport const FBAuthContext = createContext();\r\n\r\n//UNDOUNDO\r\nexport default function FirebaseAuthProvider({children}){\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [isloading, setLoading] = useState(true);\r\n\r\n    async function login(email, password){\r\n        let res = await auth.signInWithEmailAndPassword(email, password);\r\n        return res;\r\n    }\r\n\r\n    async function logout(){\r\n        let res = await auth.signOut()\r\n        return res;\r\n    }\r\n\r\n    async function register(email, password){\r\n        let res = await auth.createUserWithEmailAndPassword(email, password)\r\n        \r\n        return res;\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        const unsubscribe = auth.onAuthStateChanged((user) => {\r\n            // console.log(\"executed here\")\r\n            // console.log(\"CURRENT USER IN AUTH\")\r\n            // console.log(user)\r\n            setCurrentUser(user);\r\n            setLoading(false)\r\n        })\r\n        return () => {\r\n            setCurrentUser({});\r\n            setLoading({})\r\n        };\r\n    }, []);\r\n\r\n    const value = {\r\n        currentUser,\r\n        isloading,\r\n        login,\r\n        logout,\r\n        register\r\n    }\r\n\r\n    return (\r\n        <FBAuthContext.Provider value={value}>\r\n            {children}\r\n        </FBAuthContext.Provider>\r\n    )\r\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}